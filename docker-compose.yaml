version: "3.9"

services:
  nvidia-smi-exporter:
    image: utkuozdemir/nvidia_gpu_exporter:1.3.1
    container_name: nvidia_smi_exporter
    restart: unless-stopped
    ports:
      - "9835:9835"
    devices:
      - "/dev/nvidiactl:/dev/nvidiactl"
      - "/dev/nvidia0:/dev/nvidia0"
    volumes:
      - "/usr/lib/x86_64-linux-gnu/libnvidia-ml.so:/usr/lib/x86_64-linux-gnu/libnvidia-ml.so"
      - "/usr/lib/x86_64-linux-gnu/libnvidia-ml.so.1:/usr/lib/x86_64-linux-gnu/libnvidia-ml.so.1"
      - "/usr/bin/nvidia-smi:/usr/bin/nvidia-smi"

